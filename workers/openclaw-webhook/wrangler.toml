name = "openclaw-webhook"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Durable Objects configuration
[[durable_objects.bindings]]
name = "WEBSOCKET_HUB"
class_name = "WebSocketHub"

# Durable Object class definition
[[migrations]]
tag = "v1"
new_classes = ["WebSocketHub"]

[vars]
# Environment variables can be added here
# OPENCLAW_BRIDGE_URL = "wss://your-bridge-url.com"

# Production configuration
[env.production]
name = "openclaw-webhook-prod"
[[durable_objects.bindings]]
name = "WEBSOCKET_HUB"
class_name = "WebSocketHub"

# Routes for custom domain (optional)
# routes = [
#   { pattern = "webhook.yourdomain.com/*", zone_name = "yourdomain.com" }
# ]
